<!DOCTYPE html>
<html lang="en" dir="ltr" class="h-100">

<head>
    <meta charset="utf-8">
    <title>Chat/Index</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body class="h-100 d-flex justify-content-center bg-secondary">
    <div class="card align-self-center text-white bg-dark border-primary shadow" style="max-width: 18rem;">
        <div class="card-header"><h3 class="display-4">Chat</h3>
        </div>
        <div class="card-body">
            <h5 class="card-subtitle mb-2 text-secondary">Conecte-se!</h5>
            <div class="form-group">
                <label for="ip">IP</label>
                <input type="text" class="form-control" id="ip" placeholder="IP">
            </div>
            <div class="form-group">
                <label for="porta">Porta</label>
                <input type="text" class="form-control" id="porta" placeholder="Porta">
            </div>
        </div>
        <div class="card-footer bg-transparent"><button id="submit" class="btn btn-primary w-100">Conectar</button></div>
        <div class="card-footer bg-transparent">
            <p class="text-muted">Aplicação desenvolvida por Gabriel Lui[s/z] Portel[l]a e <br>Luiz Augusto Santana</p>
        </div>
    </div>
</body>

</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script type="text/javascript">
$("#submit").click(function() {
    $.ajax({
        url: "http://" + $("#ip").val() + ":" + $("#porta").val(),
        cache: false,
        async: false,
        error: function(XMLHttpRequest, textStatus, errorThrown) {
            $(".card-body small").remove();
            $(".card-body").append("<small class='text-danger'>Servidor ou porta incorretos.")
        },
        success: function(html) {
            window.location = "messages.html?ip=" + $("#ip").val() + "?port=" + $("#porta").val();
        }
    });
})
</script>